---
const pathname = Astro.url.pathname;
const segments = pathname.split("/").filter(Boolean);
const title = segments[0] === "writings" && segments[1] ? segments[1].replace(/\.md$/, '').replace(/-/g, ' ') : null;

const links = [
  { label: "Home", href: "/" },
  { label: "Writings", href: "/writings" },
];
---

<header>
  <div class="nav">
    {links.map((link) => (
      <a href={link.href} class={pathname === link.href ? "active" : ""}>
        {link.label}
      </a>
    ))}
    {title && <span class="title">â€” {title}</span>}
  </div>
</header>

<style>
  header {
    height: 64px;
    display: flex;
    align-items: center;
  }

  .nav {
    display: flex;
    gap: 24px;
  }

  a {
    font-size: 21px;
    font-weight: 500;
    text-decoration: none;
    color: inherit;
  }

  a.active {
    text-decoration: underline;
  }

  .title {
    font-size: 21px;
    font-weight: 300;
    margin-left: 24px;
  }
</style>
